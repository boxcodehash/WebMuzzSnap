<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>MuzzSnap - Terminal Edition</title>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@400;700&family=Orbitron:wght@400;900&display=swap');
    :root{--muzz-red:#ff0000;--ryachu-gold:#ffcc00;--itsuki-blue:#00d4ff}html,body{height:100%;overflow:hidden;margin:0;padding:0}body.dark-theme{background:#050505;color:white}body.light-theme{background:#f0f2f5;color:#1a1a1a}.panel-3d{border-radius:24px;transition:all 0.3s ease;display:flex;flex-direction:column;height:100%}.dark-theme .panel-3d{background:#0c0c0c;border:1px solid rgba(255,0,0,0.15);box-shadow:0 10px 30px rgba(0,0,0,0.8)}.light-theme .panel-3d{background:#ffffff;border:1px solid #e0e0e0;box-shadow:0 10px 30px rgba(0,0,0,0.05)}.bubble-3d{padding:12px 16px;border-radius:20px;font-size:14px;max-width:85%;line-height:1.4;position:relative}.bubble-3d.me{background:linear-gradient(145deg,#ff0000,#b30000);color:white;align-self:flex-end;border-bottom-right-radius:4px}.dark-theme .bubble-3d.other{background:#1a1a1a;border:1px solid rgba(255,255,255,0.05)}.light-theme .bubble-3d.other{background:#ffffff;border:1px solid #e0e0e0;color:black}.bubble-3d.muted{opacity:0.5}.ryachu-name{color:var(--ryachu-gold);font-weight:800}.itsuki-name{color:var(--itsuki-blue);font-weight:800}.hacker-input{font-family:'Fira Code',monospace}.dark-theme .hacker-input{color:#39ff14!important}.emoji-window{max-height:180px;overflow-y:auto;display:grid;grid-template-columns:repeat(7,1fr);gap:10px;padding:15px}.emoji-btn{font-size:1.5rem;cursor:pointer;transition:transform 0.2s;display:flex;justify-content:center}.custom-scroll::-webkit-scrollbar{width:4px}.custom-scroll::-webkit-scrollbar-thumb{background:var(--muzz-red);border-radius:10px}.online-indicator{width:8px;height:8px;background:#39ff14;border-radius:50%;box-shadow:0 0 8px #39ff14}.admin-btn{font-size:10px;padding:8px 12px;border-radius:8px;background:rgba(255,0,0,0.1);border:1px solid rgba(255,0,0,0.3);color:#ff0000;font-weight:bold;transition:all 0.3s;cursor:pointer}.admin-btn:hover{background:#ff0000;color:white}
  </style>
</head>
<body class="dark-theme">
  <div id="root" class="h-full"></div>

  <script type="text/babel">
    const{useState:_0xa1,useEffect:_0xa2,useRef:_0xa3}=React;const _0xfb={apiKey:atob('QUl6YVN5QWUxLUpmTmRlME5LSU1kRTdwaGZFWGxtOUphcVVIMGpZ'),authDomain:atob('cHVsc2FyaS5maXJlYmFzZWFwcC5jb20='),databaseURL:atob('aHR0cHM6Ly9wdWxzYXJpLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbQ=='),projectId:atob('cHVsc2FyaQ=='),storageBucket:atob('cHVsc2FyaS5maXJlYmFzZXN0b3JhZ2UuYXBw'),messagingSenderId:atob('ODI0MzA2MzIxMjMz'),appId:atob('MTo4MjQzMDYzMjEyMzM6d2ViOjJjOWJmYTAyMTcwYTE3ZDU2MGI1NzA=')};if(!firebase.apps.length)firebase.initializeApp(_0xfb);const _0xdb=firebase.database();const _0xad={R:atob('MHgyMDgxNTdiNWVjMzk2NzU5ZTg3NTQwNTgxMDhlY2Y1M2UzMjM5MmZm').toLowerCase(),I:atob('MHhmYWI1ODM1Y2ExNGZiM2Y5Zjk3OGM1ZTRkNzMzNzM0ZTYzOTRlMDNm').toLowerCase()};const _0xem={"FACES":["ðŸ˜Š","ðŸ˜‚","ðŸ˜‰","ðŸ˜","ðŸ˜˜","ðŸ˜›","ðŸ˜…","ðŸ˜¢","ðŸ˜­","ðŸ˜ ","ðŸ˜ˆ","ðŸ‘½","ðŸ¤–","ðŸ¤¡","ðŸ’€","ðŸ‘»","ðŸ’©"],"HANDS":["ðŸ‘","ðŸ‘Ž","ðŸ‘Œ","âœŒï¸","ðŸ‘","ðŸ‘‹","ðŸ™","ðŸ’ª","â˜ï¸","ðŸ––"],"OBJECTS":["â¤ï¸","â­","ðŸ”¥","ðŸ“š","ðŸ’»","ðŸ“±","ðŸ“·","ðŸ”‘","ðŸ”’","ðŸ’¡","ðŸ’°","ðŸ’Ž"],"NATURE":["â˜€ï¸","â˜ï¸","ðŸŒˆ","ðŸŒ³","ðŸŒ¸","ðŸŒµ","ðŸ±","ðŸ¶","ðŸ¦","ðŸ¦„","ðŸ‰","ðŸ"],"FOOD":["ðŸ•","ðŸ”","ðŸŒ®","ðŸ£","ðŸ°","ðŸ¦","â˜•","ðŸº","ðŸ·","ðŸ¸"],"ACTIVITIES":["âš½","ðŸ€","ðŸŽ¾","ðŸŽµ","ðŸŽ¸","ðŸŽ®","â™Ÿï¸","ðŸŽ¨","ðŸŽ¬"]};const _0xch=[{id:"general",name:"GENERAL"},{id:"spanish",name:"ESPAÃ‘OL"},{id:"crypto",name:"CRYPTO"}];function App(){const[_0xb1,_0xb2]=_0xa1(null);const[_0xb3,_0xb4]=_0xa1([]);const[_0xb5,_0xb6]=_0xa1([]);const[_0xb7,_0xb8]=_0xa1({});const[_0xb9,_0xc0]=_0xa1("");const[_0xc1,_0xc2]=_0xa1("");const[_0xc3,_0xc4]=_0xa1(true);const[_0xc5,_0xc6]=_0xa1(false);const[_0xc7,_0xc8]=_0xa1("FACES");const[_0xc9,_0xd0]=_0xa1(_0xch[0]);const[_0xd1,_0xd2]=_0xa1(false);const[_0xd3,_0xd4]=_0xa1(null);const[_0xd5,_0xd6]=_0xa1(false);const[_0xd7,_0xd8]=_0xa1(false);const[_0xd9,_0xe0]=_0xa1(false);const _0xe1=_0xa3(null);const _0xe2=()=>{_0xc4(!_0xc3);document.body.className=_0xc3?'light-theme':'dark-theme';};_0xa2(()=>{const _0xe3=sessionStorage.getItem('muzz_wallet_address');if(!_0xe3){window.location.href='login.html';return;}firebase.auth().signInAnonymously().then((_0xe4)=>{const _0xe5=_0xe4.user.uid;const _0xe6=!_0xe3.startsWith('guest_');let _0xe7="",_0xe8="user";if(_0xe6){const _0xe9=_0xe3.toLowerCase();if(_0xe9===_0xad.R){_0xe7="Ryachu";_0xe8="ryachu";}else if(_0xe9===_0xad.I){_0xe7="Itsuki";_0xe8="itsuki";}else{_0xe7=`Node_${_0xe3.slice(-4)}`;}}else{_0xe7=_0xe3.replace('guest_','');_0xe8="guest";}_0xb2({username:_0xe7,uid:_0xe5,role:_0xe8,isWallet:_0xe6});_0xdb.ref(`status/${_0xe5}`).onDisconnect().remove();_0xdb.ref(`status/${_0xe5}`).set({username:_0xe7,role:_0xe8,uid:_0xe5});_0xdb.ref('status').on('value',_0xf0=>_0xb6(_0xf0.val()?Object.values(_0xf0.val()):[]));_0xdb.ref('settings/pinned').on('value',_0xf1=>_0xc0(_0xf1.val()||""));_0xdb.ref('muted').on('value',_0xf2=>_0xb8(_0xf2.val()||{}));});},[]); _0xa2(()=>{if(!_0xb1)return;const _0xf3=_0xdb.ref('messages/'+_0xc9.id).limitToLast(50);_0xf3.on('value',_0xf4=>{const _0xf5=_0xf4.val();_0xb4(_0xf5?Object.keys(_0xf5).map(_0xf6=>({id:_0xf6,..._0xf5[_0xf6]})):[]);});return()=>_0xf3.off();},[_0xc9,_0xb1]);_0xa2(()=>{_0xe1.current?.scrollIntoView({behavior:'smooth'});},[_0xb3]);const _0xf7=()=>{if(!_0xc1.trim())return;if(_0xb7[_0xb1.uid]&&_0xb7[_0xb1.uid]>Date.now()){alert("EstÃ¡s silenciado temporalmente");return;}if(_0xd5&&_0xf8){_0xdb.ref('settings/pinned').set(_0xc1);_0xd6(false);_0xc2("");return;}_0xdb.ref('messages/'+_0xc9.id).push({content:_0xc1,username:_0xb1.username,role:_0xb1.role,userId:_0xb1.uid,timestamp:Date.now()});_0xc2("");_0xc6(false);};const _0xf9={clearChat:()=>{if(confirm("Â¿Borrar todo el historial del chat?")){_0xdb.ref('messages/'+_0xc9.id).remove();}},enablePinMode:()=>{_0xd6(true);_0xc2("");},removePin:()=>_0xdb.ref('settings/pinned').remove(),openBanPanel:()=>_0xd8(true),openMutePanel:()=>_0xe0(true),banUser:(_0xg0,_0xg1)=>{if(confirm(`Â¿Banear permanentemente a ${_0xg1}?`)){_0xdb.ref(`banned/${_0xg0}`).set(true);_0xdb.ref(`status/${_0xg0}`).remove();}_0xd8(false);},muteUser:(_0xg2,_0xg3)=>{const _0xg4=Date.now()+60000;_0xdb.ref(`muted/${_0xg2}`).set(_0xg4);setTimeout(()=>_0xdb.ref(`muted/${_0xg2}`).remove(),60000);alert(`${_0xg3} ha sido silenciado por 1 minuto`);_0xe0(false);}};const _0xf8=_0xb1&&(_0xb1.role==='ryachu'||_0xb1.role==='itsuki');if(!_0xb1)return <div className="h-full flex items-center justify-center text-red-600 font-orbitron animate-pulse">CONNECTING...</div>;return(<div className="flex h-screen p-2 md:p-4 lg:p-6 gap-4 md:gap-6 max-w-[1600px] mx-auto overflow-hidden"><aside className={`fixed lg:relative z-50 inset-y-0 left-0 w-72 lg:w-64 transition-all duration-300 transform panel-3d p-6 flex flex-col ${_0xd1?'translate-x-0':'-translate-x-full lg:translate-x-0 shadow-2xl lg:shadow-none'}`}><div className="mb-8 flex items-center gap-3"><div className="w-10 h-10 bg-red-600 rounded-xl flex items-center justify-center shadow-lg shadow-red-600/30"><i className="fas fa-ghost text-white text-sm"></i></div><h1 className="font-orbitron font-black text-xl italic tracking-tighter">MUZZ<span className="text-red-600">SNAP</span></h1></div><div className="flex-1 overflow-y-auto custom-scroll space-y-8 pr-2">{_0xf8&&(<div><p className="text-[9px] text-red-600 font-bold tracking-[0.3em] mb-4 uppercase">Admin Console</p><div className="grid grid-cols-2 gap-2 mb-3"><button onClick={_0xf9.enablePinMode}className="admin-btn"><i className="fas fa-thumbtack mr-1"></i>FIJAR</button><button onClick={_0xf9.clearChat}className="admin-btn"><i className="fas fa-trash mr-1"></i>LIMPIAR</button></div><details className="bg-red-600/5 border border-red-600/20 rounded-lg"><summary className="cursor-pointer px-3 py-2 text-[9px] font-bold text-red-500 uppercase tracking-wider">ModeraciÃ³n â–¼</summary><div className="p-3 space-y-2 border-t border-red-600/20"><button onClick={()=>_0xf9.openBanPanel()}className="w-full admin-btn text-left"><i className="fas fa-user-slash mr-2"></i>Banear Usuario</button><button onClick={()=>_0xf9.openMutePanel()}className="w-full admin-btn text-left"><i className="fas fa-volume-mute mr-2"></i>Mutear 1min</button></div></details></div>)}<div><p className="text-[10px] text-gray-500 font-bold tracking-[0.3em] mb-4 uppercase">Channels</p>{_0xch.map(_0xg5=>(<button key={_0xg5.id}onClick={()=>{_0xd0(_0xg5);_0xd2(false);}}className={`w-full text-left px-4 py-3 rounded-xl text-xs font-bold mb-1 transition-all ${_0xc9.id===_0xg5.id?'bg-red-600/10 text-red-600 border-l-2 border-red-600 shadow-lg shadow-red-600/5':'text-gray-500 hover:text-white'}`}># {_0xg5.name}</button>))}</div><div><p className="text-[10px] text-gray-500 font-bold tracking-[0.3em] mb-4 uppercase">Online â€” {_0xb5.length}</p><div className="space-y-3">{_0xb5.map((_0xg6,_0xg7)=>(<div key={_0xg7}className="flex items-center gap-3 px-2"><span className="online-indicator"></span><span className={`text-[11px] truncate font-bold uppercase flex-1 ${_0xg6.role==='ryachu'?'ryachu-name':_0xg6.role==='itsuki'?'itsuki-name':'text-gray-400'}`}>{_0xg6.role==='ryachu'&&'ðŸ‘‘ '}{_0xg6.role==='itsuki'&&'ðŸ’Ž '}{_0xg6.username}</span></div>))}</div></div></div><button onClick={()=>{sessionStorage.clear();window.location.href='login.html'}}className="mt-6 w-full py-3 text-[10px] border border-red-900/30 text-red-600 rounded-xl uppercase font-black tracking-widest hover:bg-red-600/5 transition-all"><i className="fas fa-power-off mr-2"></i>Disconnect</button></aside><main className="flex-1 panel-3d flex flex-col overflow-hidden border border-white/5 h-full relative">{_0xb9&&(<div className="bg-red-600/10 border-b border-red-600/30 py-2 px-6 flex items-center gap-4 flex-shrink-0"><i className="fas fa-thumbtack text-red-600 text-[10px] animate-pulse"></i><marquee className="text-[10px] font-bold tracking-[0.2em] text-red-500 uppercase flex-1">{_0xb9}</marquee>{_0xf8&&(<button onClick={_0xf9.removePin}className="text-[8px] text-red-400 hover:text-red-600"><i className="fas fa-times"></i></button>)}</div>)}<header className="h-16 flex items-center justify-between px-8 bg-white/5 border-b border-white/5 flex-shrink-0"><div className="flex items-center gap-4"><button onClick={()=>_0xd2(true)}className="lg:hidden text-red-600"><i className="fas fa-bars"></i></button><h2 className="text-sm font-black tracking-[0.2em] text-red-600 uppercase italic">/ {_0xc9.name}</h2></div><button onClick={_0xe2}className="w-10 h-10 rounded-xl border border-red-600/20 flex items-center justify-center hover:bg-red-600/5 transition-all">{_0xc3?<i className="fas fa-sun text-yellow-500"></i>:<i className="fas fa-moon text-blue-500"></i>}</button></header><div className="flex-1 overflow-y-auto p-4 md:p-8 flex flex-col gap-5 custom-scroll">{_0xb3.map((_0xg8,_0xg9)=>{const _0xh0=_0xb7[_0xg8.userId]&&_0xb7[_0xg8.userId]>Date.now();const _0xh1=new Date(_0xg8.timestamp);const _0xh2=_0xg9>0?_0xb3[_0xg9-1]:null;const _0xh3=_0xh2?new Date(_0xh2.timestamp):null;const _0xh4=!_0xh3||_0xh1.toDateString()!==_0xh3.toDateString();const _0xh5=(_0xh6)=>{const _0xh7=new Date();const _0xh8=new Date(_0xh7);_0xh8.setDate(_0xh8.getDate()-1);if(_0xh6.toDateString()===_0xh7.toDateString()){return'HOY';}else if(_0xh6.toDateString()===_0xh8.toDateString()){return'AYER';}else{return _0xh6.toLocaleDateString('es-ES',{weekday:'long',year:'numeric',month:'long',day:'numeric'}).toUpperCase();}};return(<React.Fragment key={_0xg8.id}>{_0xh4&&(<div className="flex items-center gap-4 my-4"><div className="flex-1 h-px bg-gradient-to-r from-transparent via-red-600/30 to-transparent"></div><span className="text-[9px] font-black tracking-[0.3em] text-red-600/70 px-4 py-1.5 bg-red-600/5 rounded-full border border-red-600/20">{_0xh5(_0xh1)}</span><div className="flex-1 h-px bg-gradient-to-r from-red-600/30 via-transparent to-transparent"></div></div>)}<div className={`flex flex-col ${_0xg8.userId===_0xb1.uid?'items-end':'items-start'}`}><span className={`text-[10px] font-black mb-1.5 uppercase px-2 ${_0xg8.role==='ryachu'?'ryachu-name':_0xg8.role==='itsuki'?'itsuki-name':'text-gray-500'}`}>{_0xg8.role==='ryachu'&&'ðŸ‘‘ '}{_0xg8.role==='itsuki'&&'ðŸ’Ž '}{_0xg8.username} {_0xh0&&'ðŸ”‡'}</span><div className={`bubble-3d shadow-xl ${_0xg8.userId===_0xb1.uid?'me':'other'} ${_0xh0?'muted':''}`}>{_0xg8.content}</div></div></React.Fragment>);})}<div ref={_0xe1}></div></div><div className={`p-4 md:p-6 ${_0xc3?'bg-black/40':'bg-gray-50'} border-t border-white/5 flex-shrink-0`}>{_0xd5&&(<div className="mb-3 px-4 py-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-yellow-500 text-xs font-bold flex items-center gap-2"><i className="fas fa-thumbtack animate-pulse"></i>MODO FIJAR MENSAJE ACTIVADO - Escribe y envÃ­a<button onClick={()=>_0xd6(false)}className="ml-auto text-yellow-500 hover:text-yellow-300"><i className="fas fa-times"></i></button></div>)}{_0xd7&&(<div className="mb-3 panel-3d border border-red-600/30 p-4 max-h-48 overflow-y-auto custom-scroll"><div className="flex justify-between items-center mb-3"><p className="text-xs font-bold text-red-500 uppercase">Seleccionar usuario para banear</p><button onClick={()=>_0xd8(false)}className="text-gray-500 hover:text-red-500"><i className="fas fa-times"></i></button></div>{_0xb5.filter(_0xh9=>_0xh9.role!=='ryachu'&&_0xh9.role!=='itsuki').map(_0xi0=>(<button key={_0xi0.uid}onClick={()=>_0xf9.banUser(_0xi0.uid,_0xi0.username)}className="w-full text-left px-3 py-2 text-xs hover:bg-red-600/10 rounded mb-1 flex items-center gap-2"><i className="fas fa-user-slash text-red-500"></i><span className="font-bold">{_0xi0.username}</span></button>))}</div>)}{_0xd9&&(<div className="mb-3 panel-3d border border-yellow-600/30 p-4 max-h-48 overflow-y-auto custom-scroll"><div className="flex justify-between items-center mb-3"><p className="text-xs font-bold text-yellow-500 uppercase">Seleccionar usuario para mutear</p><button onClick={()=>_0xe0(false)}className="text-gray-500 hover:text-yellow-500"><i className="fas fa-times"></i></button></div>{_0xb5.filter(_0xi1=>_0xi1.role!=='ryachu'&&_0xi1.role!=='itsuki').map(_0xi2=>(<button key={_0xi2.uid}onClick={()=>_0xf9.muteUser(_0xi2.uid,_0xi2.username)}className="w-full text-left px-3 py-2 text-xs hover:bg-yellow-600/10 rounded mb-1 flex items-center gap-2"><i className="fas fa-volume-mute text-yellow-500"></i><span className="font-bold">{_0xi2.username}</span></button>))}</div>)}{_0xc5&&(<div className={`mb-4 panel-3d border border-red-600/20 overflow-hidden shadow-2xl h-auto flex-shrink-0`}><div className="flex bg-black/10 border-b border-white/5 overflow-x-auto custom-scroll">{Object.keys(_0xem).map(_0xi3=>(<button key={_0xi3}onClick={()=>_0xc8(_0xi3)}className={`px-4 py-2 text-[9px] font-black uppercase tracking-tighter ${_0xc7===_0xi3?'text-red-600 bg-red-600/5':'text-gray-500'}`}>{_0xi3}</button>))}</div><div className="emoji-window custom-scroll">{_0xem[_0xc7].map(_0xi4=>(<span key={_0xi4}onClick={()=>_0xc2(_0xc1+_0xi4)}className="emoji-btn">{_0xi4}</span>))}</div></div>)}<div className="flex items-center bg-black/30 border border-white/10 rounded-2xl p-2.5 pl-5 focus-within:border-red-600/50 transition-all shadow-inner"><button onClick={()=>_0xc6(!_0xc5)}className="text-gray-500 hover:text-red-600 transition-colors mr-3"><i className="far fa-laugh-beam text-xl"></i></button><input value={_0xc1}onChange={_0xi5=>_0xc2(_0xi5.target.value)}onKeyDown={_0xi6=>_0xi6.key==='Enter'&&_0xf7()}placeholder={_0xd5?"Escribe el mensaje a fijar...":_0xb7[_0xb1.uid]&&_0xb7[_0xb1.uid]>Date.now()?"EstÃ¡s silenciado...":"Transmit message..."}disabled={_0xb7[_0xb1.uid]&&_0xb7[_0xb1.uid]>Date.now()}className="flex-1 bg-transparent border-none focus:ring-0 text-sm hacker-input"/><button onClick={_0xf7}className={`w-12 h-12 ${_0xd5?'bg-yellow-600':'bg-red-600'} rounded-xl flex items-center justify-center hover:bg-red-500 active:scale-95 transition-all shadow-[0_0_20px_rgba(255,0,0,0.3)]`}><i className={`fas ${_0xd5?'fa-thumbtack':'fa-paper-plane'} text-white`}></i></button></div></div></main>{_0xd1&&<div onClick={()=>_0xd2(false)}className="fixed inset-0 bg-black/90 z-40 lg:hidden backdrop-blur-md"></div>}</div>);}ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
